# –ò—Ç–æ–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ mod menu

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è:

1. ‚úÖ **–°–±–æ—Ä–∫–∏ classes.dex** –∏–∑ Java –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
2. ‚úÖ **–°–±–æ—Ä–∫–∏ libvis.so** –∏–∑ native –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ (C++)
3. ‚úÖ **–í–Ω–µ–¥—Ä–µ–Ω–∏—è** —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ APK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
```
mod_menu_rootless/
‚îú‚îÄ‚îÄ java/                          # Java –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ com/modmenu/loader/
‚îÇ       ‚îú‚îÄ‚îÄ ModMenuLoader.java     # –ì–ª–∞–≤–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫
‚îÇ       ‚îú‚îÄ‚îÄ DexInjector.java       # –ò–Ω—ä–µ–∫—Ç–æ—Ä DEX
‚îÇ       ‚îú‚îÄ‚îÄ OverlayService.java    # UI –º–µ–Ω—é
‚îÇ       ‚îî‚îÄ‚îÄ LifecycleListener.java # Lifecycle —Ç—Ä–µ–∫–µ—Ä
‚îî‚îÄ‚îÄ jni/                           # C++ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
    ‚îú‚îÄ‚îÄ main_noroot.cpp            # –ì–ª–∞–≤–Ω—ã–π native —Ñ–∞–π–ª
    ‚îú‚îÄ‚îÄ Android.mk                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NDK
    ‚îî‚îÄ‚îÄ *.hpp                      # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã (ESP, Aimbot, Protection)
```

### –°–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∫–∏ (—Å–æ–∑–¥–∞–Ω—ã)
```
mod_menu_rootless/
‚îú‚îÄ‚îÄ build_vis.sh                  # –°–±–æ—Ä–∫–∞ classes.dex + libvis.so
‚îú‚îÄ‚îÄ inject_to_apk.sh              # –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–π APK
‚îú‚îÄ‚îÄ build_and_inject_all.sh       # –ü–æ–ª–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å
‚îî‚îÄ‚îÄ build_java_only.sh            # –¢–æ–ª—å–∫–æ Java —á–∞—Å—Ç—å (–±–µ–∑ native)
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Å–æ–∑–¥–∞–Ω–∞)
```
mod_menu_rootless/
‚îú‚îÄ‚îÄ README_VIS.md                 # –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îú‚îÄ‚îÄ SETUP_GUIDE.md                # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ SDK/NDK
‚îî‚îÄ‚îÄ BUILD_SUMMARY.md              # –°–≤–æ–¥–∫–∞ –ø–æ —Å–±–æ—Ä–∫–µ
```

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### 1. –ù–∞–∑–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ "vis"
- `jni/Android.mk`: `LOCAL_MODULE := vis`
- `java/ModMenuLoader.java`: `System.loadLibrary("vis")`

### 2. .gitignore –æ–±–Ω–æ–≤–ª–µ–Ω
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —Å–±–æ—Ä–∫–∏

## üìã –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- Java JDK 17.0.18 (javac)

### ‚ùå –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- Android NDK
- Android SDK (build-tools)

## üöÄ –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Android SDK –∏ NDK

```bash
# –°–∫–∞—á–∞–π—Ç–µ Android Command Line Tools
mkdir -p ~/android-sdk
cd ~/android-sdk
wget https://dl.google.com/android/repository/commandlinetools-linux-9477386_latest.zip
unzip commandlinetools-linux-9477386_latest.zip
mkdir -p cmdline-tools/latest
mv cmdline-tools/* cmdline-tools/latest/

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export ANDROID_HOME=~/android-sdk
export PATH=$PATH:$ANDROID_HOME/cmdline-tools/latest/bin:$ANDROID_HOME/platform-tools

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
sdkmanager "platform-tools" "platforms;android-30" "build-tools;30.0.3" "ndk;25.2.9519653"

export ANDROID_NDK_HOME=$ANDROID_HOME/ndk/25.2.9519653
```

*–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. –≤ `mod_menu_rootless/SETUP_GUIDE.md`*

### –®–∞–≥ 2: –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ

```bash
cd /home/engine/project/mod_menu_rootless
./build_and_inject_all.sh
```

**–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
1. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç Java –∫–ª–∞—Å—Å—ã –≤ `classes.dex`
2. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç C++ –∫–æ–¥ –≤ `libvis.so` (ARM64 –∏ ARM32)
3. –°–∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –≤ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–π APK –≤ `/home/engine/project/`

### –®–∞–≥ 3: –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ APK

```bash
cd /home/engine/project

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å APK
apktool b . -o standoff2_modded.apk

# –°–æ–∑–¥–∞—Ç—å keystore (–µ—Å–ª–∏ –Ω–µ—Ç)
keytool -genkey -v -keystore debug.keystore -alias androiddebugkey \
    -keyalg RSA -keysize 2048 -validity 10000 \
    -storepass android -keypass android \
    -dname "CN=Android Debug,O=Android,C=US"

# –ü–æ–¥–ø–∏—Å–∞—Ç—å APK
apksigner sign --ks debug.keystore --ks-pass pass:android \
    --key-pass pass:android standoff2_modded.apk

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
adb install -r standoff2_modded.apk
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: –†—É—á–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–¥–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ APK –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ –≤ –≥–ª–∞–≤–Ω—ã–π Application –∫–ª–∞—Å—Å:

1. –ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª Application –∫–ª–∞—Å—Å–∞ –≤ smali:
   ```
   smali/com/yourpackage/YourApplication.smali
   ```

2. –í –º–µ—Ç–æ–¥–µ `onCreate()` –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ —Å `invoke-super` –¥–æ–±–∞–≤—å—Ç–µ:

```smali
invoke-static {p0}, Lcom/modmenu/loader/DexInjector;->inject(Landroid/content/Context;)V
invoke-static {p0}, Lcom/modmenu/loader/ModMenuLoader;->inject(Landroid/app/Application;)V
```

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ AndroidManifest.xml –µ—Å—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:

```xml
<uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW"/>
<uses-permission android:name="android.permission.INTERNET"/>
```

## üì¶ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–±–æ—Ä–∫–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –≤:

```
/home/engine/project/
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ classes.dex              # Java –º–æ–¥ –º–µ–Ω—é
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ arm64-v8a/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ libvis.so            # Native –º–æ–¥ (ARM64)
‚îÇ   ‚îî‚îÄ‚îÄ armeabi-v7a/
‚îÇ       ‚îî‚îÄ‚îÄ libvis.so            # Native –º–æ–¥ (ARM32)
‚îî‚îÄ‚îÄ INJECTION_INFO.txt            # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∏–Ω—ä–µ–∫—Ü–∏–∏
```

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–æ–¥ –º–µ–Ω—é

### Java Loader (classes.dex)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ native –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `libvis.so`
- –ò–Ω—ä–µ–∫—Ü–∏—è DEX –≤ classloader –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- UI overlay –º–µ–Ω—é —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Native Library (libvis.so)
- **ESP**:
  - Box ESP (—Ä–∞–º–∫–∏ –≤–æ–∫—Ä—É–≥ –∏–≥—Ä–æ–∫–æ–≤)
  - Skeleton ESP (—Å–∫–µ–ª–µ—Ç –∏–≥—Ä–æ–∫–æ–≤)
  - Health ESP (–∑–¥–æ—Ä–æ–≤—å–µ)
  - Distance ESP (–¥–∏—Å—Ç–∞–Ω—Ü–∏—è)
  - Name ESP (–∏–º–µ–Ω–∞)

- **Aimbot**:
  - –ù–∞—Ü–µ–ª–∏–≤–∞–Ω–∏–µ –Ω–∞ –≤—Ä–∞–≥–æ–≤
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ FOV (—É–≥–æ–ª –æ–±–∑–æ—Ä–∞)
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ smoothing (–ø–ª–∞–≤–Ω–æ—Å—Ç—å)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (visible check)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–∞–Ω–¥—ã (team check)

- **–ó–∞—â–∏—Ç–∞**:
  - Anti-debugging
  - Anti-emulator
  - Anti-Frida
  - Integrity checks

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: `mod_menu_rootless/README_VIS.md`
- **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ SDK/NDK**: `mod_menu_rootless/SETUP_GUIDE.md`
- **–°–≤–æ–¥–∫–∞ –ø–æ —Å–±–æ—Ä–∫–µ**: `BUILD_SUMMARY.md`
- **–û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π**: `mod_menu_rootless/FEATURES.md`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: `mod_menu_rootless/INTEGRATION_GUIDE.md`

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: ANDROID_NDK_HOME not set
```bash
export ANDROID_NDK_HOME=/path/to/ndk
```

### –û—à–∏–±–∫–∞: d8 tool not found
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ build-tools:
```bash
sdkmanager "build-tools;30.0.3"
```

### Java compilation failed
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Java:
```bash
javac -version
```
–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å 8+

## ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫-–ª–∏—Å—Ç

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Android SDK
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Android NDK
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `./build_and_inject_all.sh`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ `/home/engine/project/assets/` –∏ `/home/engine/project/lib/`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã –∏–Ω—ä–µ–∫—Ü–∏–∏ –≤ Application –∫–ª–∞—Å—Å (smali)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ AndroidManifest.xml
- [ ] –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å APK —Å apktool
- [ ] –ü–æ–¥–ø–∏—Å–∞—Ç—å APK
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- [ ] –†–∞–∑—Ä–µ—à–∏—Ç—å –Ω–∞–ª–æ–∂–µ–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö –æ–∫–æ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

## üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–º–æ—â—å

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤:
- `/home/engine/project/mod_menu_rootless/` - –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏ —Å–∫—Ä–∏–ø—Ç—ã
- `/home/engine/project/mod_menu_rootless/README_VIS.md` - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `/home/engine/project/mod_menu_rootless/SETUP_GUIDE.md` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ SDK/NDK
- `/home/engine/project/BUILD_SUMMARY.md` - —Å–≤–æ–¥–∫–∞ –ø–æ —Å–±–æ—Ä–∫–µ

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π.
